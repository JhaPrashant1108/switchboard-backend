# ==========================================
# SwitchBoard - Production Configuration
# ==========================================
# This file contains production-specific settings
# To activate: --spring.profiles.active=prod
#
# IMPORTANT: All sensitive values MUST be provided via environment variables
# Never commit actual credentials to version control

spring.application.name=SwitchBoard

# PostgreSQL connection (Production - Use Environment Variables)
spring.datasource.url=${DB_URL:jdbc:postgresql://localhost:5432/switchboard}
spring.datasource.username=${DB_USERNAME:postgres}
spring.datasource.password=${DB_PASSWORD}
spring.datasource.driver-class-name=org.postgresql.Driver

# Hibernate / JPA (Production)
spring.jpa.hibernate.ddl-auto=${JPA_DDL_AUTO:validate}
spring.jpa.show-sql=false
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect
spring.jpa.properties.hibernate.format_sql=false

# Redis Configuration (Production - Use Environment Variables)
redis.hostName=${REDIS_HOSTNAME}
redis.port=${REDIS_PORT:6379}
redis.userName=${REDIS_USERNAME:}
redis.password=${REDIS_PASSWORD}

# RabbitMQ Configuration (Production - Use Environment Variables)
rabbitmq.hostName=${RABBITMQ_HOSTNAME}
rabbitmq.port=${RABBITMQ_PORT:5672}
rabbitmq.userName=${RABBITMQ_USERNAME}
rabbitmq.virtualHost=${RABBITMQ_VIRTUAL_HOST:/}
rabbitmq.password=${RABBITMQ_PASSWORD}
rabbitmq.sslProtocolEnabled=${RABBITMQ_SSL_ENABLED:true}
rabbitmq.automaticRecoveryEnabled=${RABBITMQ_AUTO_RECOVERY:true}
rabbitmq.requestedHeartBeat=${RABBITMQ_HEARTBEAT:30}
rabbitmq.connectionTimeout=${RABBITMQ_TIMEOUT:5000}

# CORS Configuration (Production - Restrict to specific origins)
cors.allowed-origins=${CORS_ALLOWED_ORIGINS:https://yourdomain.com}
cors.allowed-methods=${CORS_ALLOWED_METHODS:GET,POST,PUT,DELETE,OPTIONS}
cors.allowed-headers=${CORS_ALLOWED_HEADERS:*}
cors.allow-credentials=${CORS_ALLOW_CREDENTIALS:false}

# Logging (Production - Info level)
logging.level.com.jhaprashant1108.SwitchBoard=INFO
logging.level.org.springframework.web=WARN
logging.level.org.hibernate.SQL=WARN

# Server Configuration
server.port=${SERVER_PORT:8080}
server.compression.enabled=true
server.compression.mime-types=application/json,application/xml,text/html,text/xml,text/plain

# Actuator (Production - Secure endpoints)
management.endpoints.web.exposure.include=health,info,metrics
management.endpoint.health.show-details=when-authorized
